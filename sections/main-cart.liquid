<div class="cart-page">
  <h1>{{ 'cart.general.title' | t }}</h1>
  
  {% if cart.item_count > 0 %}
    <form action="{{ routes.cart_url }}" method="post" novalidate>
      <table class="cart-table">
        <thead>
          <tr>
            <th>{{ 'cart.label.product' | t }}</th>
            <th>{{ 'cart.label.price' | t }}</th>
            <th>{{ 'cart.label.quantity' | t }}</th>
            <th>{{ 'cart.label.total' | t }}</th>
          </tr>
        </thead>
        <tbody>
          {% for item in cart.items %}
            <tr class="cart-item">
              <td class="cart-item__details">
                {% if item.image %}
                  <img src="{{ item.image | img_url: '100x' }}" alt="{{ item.image.alt | escape }}">
                {% endif %}
                <div>
                  <a href="{{ item.url }}">{{ item.product.title }}</a>
                  {% unless item.variant.title == 'Default Title' %}
                    <p>{{ item.variant.title }}</p>
                  {% endunless %}
                </div>
              </td>
              <td>{{ item.price | money }}</td>
              <td>
                <input type="number" name="updates[]" id="updates_{{ item.key }}" value="{{ item.quantity }}" min="0">
              </td>
              <td>{{ item.line_price | money }}</td>
            </tr>
          {% endfor %}
        </tbody>
      </table>
      
      <div class="cart-footer">
        <div class="cart-subtotal">
          <p>{{ 'cart.general.subtotal' | t }}: <strong>{{ cart.total_price | money }}</strong></p>
        </div>
        <button type="submit" name="update">{{ 'cart.general.update' | t }}</button>
        <button type="submit" name="checkout">{{ 'cart.general.checkout' | t }}</button>
      </div>
    </form>
  {% else %}
    <p>{{ 'cart.general.empty' | t }}</p>
    <a href="{{ routes.all_products_collection_url }}">{{ 'cart.general.continue_shopping' | t }}</a>
  {% endif %}
</div>

<style>
  .cart-page { max-width: 1200px; margin: 0 auto; padding: 40px 20px; }
  .cart-table { width: 100%; border-collapse: collapse; margin: 20px 0; }
  .cart-table th, .cart-table td { padding: 15px; text-align: left; border-bottom: 1px solid #ddd; }
  .cart-item__details { display: flex; gap: 15px; align-items: center; }
  .cart-item__details img { width: 80px; height: 80px; object-fit: cover; }
  .cart-footer { text-align: right; margin-top: 30px; }
  .cart-subtotal { font-size: 1.2em; margin-bottom: 20px; }
  button { padding: 12px 30px; margin-left: 10px; cursor: pointer; }
</style>

{% schema %}
{
  "name": "Cart",
  "settings": []
}
{% endschema %}
