<section class="featured-by">
  <div class="featured-by__inner">
    <p class="featured-by__label">{{ section.settings.title }}</p>
    <div class="featured-by__marquee-wrapper">
      <div class="featured-by__marquee">
        {%- for block in section.blocks -%}
          <span class="featured-by__name" {{ block.shopify_attributes }}>{{ block.settings.name }}</span>
          <span class="featured-by__dot">·</span>
        {%- endfor -%}
        <!-- Duplicate for seamless loop -->
        {%- for block in section.blocks -%}
          <span class="featured-by__name" {{ block.shopify_attributes }}>{{ block.settings.name }}</span>
          <span class="featured-by__dot">·</span>
        {%- endfor -%}
      </div>
    </div>
  </div>
</section>

<style>
  .featured-by {
    background: var(--color-bg-warm);
    padding: 52px 20px;
    border-top: 1px solid var(--color-border);
    border-bottom: 1px solid var(--color-border);
  }
  .featured-by__inner {
    max-width: var(--container-max);
    margin: 0 auto;
    text-align: center;
  }
  .featured-by__label {
    font-size: 13px;
    letter-spacing: 0.25em;
    text-transform: uppercase;
    color: var(--color-text-muted);
    margin-bottom: 28px;
    font-weight: 600;
  }
  /* Marquee wrapper */
  .featured-by__marquee-wrapper {
    overflow: hidden;
    position: relative;
    width: 100%;
  }
  .featured-by__marquee-wrapper::before,
  .featured-by__marquee-wrapper::after {
    content: '';
    position: absolute;
    top: 0;
    bottom: 0;
    width: 80px;
    z-index: 2;
    pointer-events: none;
  }
  .featured-by__marquee-wrapper::before {
    left: 0;
    background: linear-gradient(to right, var(--color-bg-warm), transparent);
  }
  .featured-by__marquee-wrapper::after {
    right: 0;
    background: linear-gradient(to left, var(--color-bg-warm), transparent);
  }
  .featured-by__marquee {
    display: flex;
    align-items: center;
    gap: 32px;
    animation: marqueeScroll 20s linear infinite;
    white-space: nowrap;
    will-change: transform;
  }
  @keyframes marqueeScroll {
    0%   { transform: translateX(0); }
    100% { transform: translateX(-50%); }
  }
  .featured-by__marquee:hover {
    animation-play-state: paused;
  }
  .featured-by__dot {
    color: var(--color-primary);
    opacity: 0.3;
    font-size: 24px;
  }
  .featured-by__name {
    font-family: var(--font-heading);
    font-size: clamp(1.7rem, 4.5vw, 2.3rem);
    font-style: italic;
    color: var(--color-text-muted);
    font-weight: 500;
    letter-spacing: 0.02em;
    flex-shrink: 0;
    transition: color 0.3s;
  }
  .featured-by__name:hover {
    color: var(--color-primary);
  }
</style>

{% schema %}
{
  "name": "Featured By",
  "settings": [
    { "type": "text", "id": "title", "default": "TRUSTED & FEATURED BY", "label": "Title" }
  ],
  "blocks": [
    {
      "type": "brand",
      "name": "Brand",
      "settings": [
        { "type": "text", "id": "name", "default": "Vogue", "label": "Brand name" }
      ]
    }
  ],
  "presets": [
    {
      "name": "Featured By",
      "blocks": [
        { "type": "brand", "settings": { "name": "Vogue" } },
        { "type": "brand", "settings": { "name": "Elle" } },
        { "type": "brand", "settings": { "name": "Brides" } },
        { "type": "brand", "settings": { "name": "Harper's Bazaar" } },
        { "type": "brand", "settings": { "name": "InStyle" } },
        { "type": "brand", "settings": { "name": "Cosmopolitan" } },
        { "type": "brand", "settings": { "name": "Glamour" } }
      ]
    }
  ]
}
{% endschema %}
